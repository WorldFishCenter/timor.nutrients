# Methods {#chapter3}

```{r}
catch_groups_name <- 
  Timor.nutrients::catch_groups %>% 
  dplyr::select(grouped_taxa = interagency_code,
                catch_name)

nutrients_table %>% 
  dplyr::left_join(catch_groups_name) %>% 
  dplyr::select(catch_name, Selenium_mu:Vitamin_A_mu) %>% 
  rename_nutrients_mu() %>% 
  tidyr::pivot_longer(-catch_name, names_to = "nutrient") %>% 
  dplyr::filter(!nutrient == "selenium" & !catch_name %in% "Other") %>% 
  dplyr::left_join(RDI_tab) %>% 
  dplyr::mutate(rdi = (value / conv_factor) * 100) %>% 
  dplyr::group_by(catch_name) %>% 
  dplyr::mutate(tot = sum(rdi)) %>% 
  ggplot2::ggplot(ggplot2::aes(rdi, reorder(catch_name, rdi), fill = nutrient))+
  ggplot2::theme_minimal()+
  ggplot2::geom_col()+
  ggplot2::scale_fill_viridis_d(direction = - 1)
```
