<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Timor SSF nutrient profiles | Modelling scenarios for nutrient-sensitive fisheries management</title>
  <meta name="description" content="5 Timor SSF nutrient profiles | Modelling scenarios for nutrient-sensitive fisheries management" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Timor SSF nutrient profiles | Modelling scenarios for nutrient-sensitive fisheries management" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="WorldFishCenter/timor.nutrients" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Timor SSF nutrient profiles | Modelling scenarios for nutrient-sensitive fisheries management" />
  
  
  

<meta name="author" content="Lore" />


<meta name="date" content="2023-11-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="distribution.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-18.2.0/react.min.js"></script>
<script src="libs/react-18.2.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="libs/reactable-binding-0.4.4/reactable.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Modelling scenarios for nutrient-sensitive fisheries managemente</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Content</a></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#catch-weight-and-nutrional-content"><i class="fa fa-check"></i><b>2.1</b> Catch weight and nutrional content</a></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#checks-and-limitations"><i class="fa fa-check"></i><b>2.2</b> Checks and limitations</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="highlight.html"><a href="highlight.html"><i class="fa fa-check"></i><b>3</b> Highlight statistics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="highlight.html"><a href="highlight.html#timor-est-ssf-nutritional-scenario"><i class="fa fa-check"></i><b>3.1</b> Timor-Est SSF nutritional scenario</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="distribution.html"><a href="distribution.html"><i class="fa fa-check"></i><b>4</b> Nutrients distribution</a>
<ul>
<li class="chapter" data-level="4.1" data-path="distribution.html"><a href="distribution.html#fish-groups"><i class="fa fa-check"></i><b>4.1</b> Fish groups</a></li>
<li class="chapter" data-level="4.2" data-path="distribution.html"><a href="distribution.html#habitat-and-gear-type"><i class="fa fa-check"></i><b>4.2</b> Habitat and gear type</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="profiles.html"><a href="profiles.html"><i class="fa fa-check"></i><b>5</b> Timor SSF nutrient profiles</a>
<ul>
<li class="chapter" data-level="5.1" data-path="profiles.html"><a href="profiles.html#methods"><i class="fa fa-check"></i><b>5.1</b> Methods</a></li>
<li class="chapter" data-level="5.2" data-path="profiles.html"><a href="profiles.html#results"><i class="fa fa-check"></i><b>5.2</b> Results</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="profiles.html"><a href="profiles.html#clusters"><i class="fa fa-check"></i><b>5.2.1</b> Clusters</a></li>
<li class="chapter" data-level="5.2.2" data-path="profiles.html"><a href="profiles.html#xgboost-model"><i class="fa fa-check"></i><b>5.2.2</b> XGBoost model</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="profiles.html"><a href="profiles.html#checks-and-limitations-1"><i class="fa fa-check"></i><b>5.3</b> Checks and limitations</a></li>
<li class="chapter" data-level="5.4" data-path="profiles.html"><a href="profiles.html#next-steps"><i class="fa fa-check"></i><b>5.4</b> Next steps</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="6" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>6</b> Notes</a>
<ul>
<li class="chapter" data-level="6.1" data-path="notes.html"><a href="notes.html#ml-model-interpretation"><i class="fa fa-check"></i><b>6.1</b> ML model interpretation</a></li>
<li class="chapter" data-level="6.2" data-path="notes.html"><a href="notes.html#ml-model-explanation"><i class="fa fa-check"></i><b>6.2</b> ML model explanation</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modelling scenarios for nutrient-sensitive fisheries management</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="profiles" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Timor SSF nutrient profiles<a href="profiles.html#profiles" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="methods" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Methods<a href="profiles.html#methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we identified recurrent nutritional profiles based on <a href="data.html#data">RC data</a>. We aimed to determine the most appropriate number of distinct groups, or “clusters,” present in our dataset. To achieve this, we used the total within sum of square (WSS) to identify the point at which grouping additional data points together does not significantly improve the clarity of the clustering. Once we established the optimal number of clusters, we applied the <a href="https://uc-r.github.io/kmeans_clustering#:~:text=The%20gap%20statistic%20compares%20the,simulations%20of%20the%20sampling%20process.">K-means</a> clustering method. This is a widely-used technique that organizes data into clusters based on similarity. In our case, we grouped fishing trips together if they showed similar levels of nutrient concentrations. By doing this, we were able to observe patterns and categorize the trips according to their nutritional profiles.</p>
<p>To investigate the predictability of nutritional profiles based on fishing strategies, we employed a machine learning model using the XGBoost algorithm. This algorithm is also known for its ability to prevent overfitting, a critical factor for ensuring the reliability of our predictive model. Additionally, XGBoost’s feature importance tool allowed us to identify the most influential predictors on the nutritional profiles.</p>
<p>Our methodology began with the preparation of the dataset, which was crucial for the effective application of the machine learning model. We transformed the dataset to combine habitat and gear type information and selected relevant predictor variables, including quarter, habitat, gear type, and vessel type. The model parameters (number of trees, tree depth, and learning rate) were dynamically tuned during the training phase to optimize model performance. The dataset was split into two parts: 80% for training the model and 20% for testing. This allocation ensured a comprehensive dataset for training the model while allowing for effective validation. To further enhance the model’s accuracy and generalizability, we applied cross-validation using the training set. In the final stage, we fitted the XGBoost model to the training data and evaluated its performance using metrics such as accuracy, ROC AUC, sensitivity, and specificity. These metrics provided insights into the model’s discriminatory ability between different nutritional profile outcomes. The calculation of ROC curves and AUC values offered additional evaluation of the model’s effectiveness.</p>
</div>
<div id="results" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Results<a href="profiles.html#results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="clusters" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Clusters<a href="profiles.html#clusters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The scatter plot from the k-means clustering (Figure 5.1) showed the distribution of nutrient profiles across different clusters. The first two principal components explained a significant portion of the variance, indicating distinct groupings in nutrient profiles among the fishing trips. The clear separation of clusters in this plot suggests that the fishing trips could be effectively categorized based on their nutrient content. The bar chart (Figure 5.2) displaying nutrient adequacy across clusters indicated the number of individuals meeting the Recommended Nutrient Intake (RNI) per 1kg of catch for various nutrients. The segmentation of bars into different nutrients (calcium, iron, omega-3, protein, vitamin A, zinc) across clusters showed variation in nutritional fulfillment. This suggests that different fishing strategies, represented by different clusters, result in catches with varying nutritional values.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-4"></span>
<img src="Timor-nutrient-sensitive-fisheries-management_files/figure-html/unnamed-chunk-4-1.png" alt="Cluster analysis of nutrient profiles using k-means clustering. The scatter plot visualizes the distribution of data points in a two-dimensional space defined by the first two principal components which explain 39% and 26% of the variance. The convex hulls represent the boundaries of each cluster, fig.width=8, message=FALSE, warning=FALSE, providing a visual guide to the cluster density and separation." width="672" />
<p class="caption">
Figure 5.1: Cluster analysis of nutrient profiles using k-means clustering. The scatter plot visualizes the distribution of data points in a two-dimensional space defined by the first two principal components which explain 39% and 26% of the variance. The convex hulls represent the boundaries of each cluster, fig.width=8, message=FALSE, warning=FALSE, providing a visual guide to the cluster density and separation.
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-5"></span>
<img src="Timor-nutrient-sensitive-fisheries-management_files/figure-html/unnamed-chunk-5-1.png" alt="Distribution of nutrient adequacy across k-means clusters. The bar chart represents the number of individuals meeting the Recommended Nutrient Intake (RNI) per 1kg of catch for each nutrient within different clusters. Each bar is segmented into six categories corresponding to the nutrients analyzed: calcium (dark purple), fig.width=6, message=FALSE, warning=FALSE, iron (blue), omega-3 (green), protein (teal), vitamin A (dark teal), and zinc (yellow). Clusters are labeled on the y-axis, indicating distinct groupings based on nutrient profile similarities derived from the cluster analysis. The x-axis quantifies the number of individuals who meet the RNI, highlighting the variation in nutritional fulfillment across clusters." width="672" />
<p class="caption">
Figure 5.2: Distribution of nutrient adequacy across k-means clusters. The bar chart represents the number of individuals meeting the Recommended Nutrient Intake (RNI) per 1kg of catch for each nutrient within different clusters. Each bar is segmented into six categories corresponding to the nutrients analyzed: calcium (dark purple), fig.width=6, message=FALSE, warning=FALSE, iron (blue), omega-3 (green), protein (teal), vitamin A (dark teal), and zinc (yellow). Clusters are labeled on the y-axis, indicating distinct groupings based on nutrient profile similarities derived from the cluster analysis. The x-axis quantifies the number of individuals who meet the RNI, highlighting the variation in nutritional fulfillment across clusters.
</p>
</div>
</div>
<div id="xgboost-model" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> XGBoost model<a href="profiles.html#xgboost-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The model’s predictive capacity was quantitatively assessed via receiver operating characteristic (ROC) analysis across five distinct clusters. The ROC (see <a href="notes.html#notes">ML model interpretation</a>) curves illustrate a differential capacity of the model to classify each cluster based on the nutritional profiles derived from various fishing strategies. Cluster 2 and 5 demonstrated superior model performance, indicated by a curve proximate to the top-left, suggesting high sensitivity and specificity. Clusters 1 and 4 showed marginally lower but comparable discrimination ability. Cluster 3 indicated a slight decrease in sensitivity and exhibited the model’s lowest performance, with a curve markedly farther from the ideal top-left position. Collectively, an aggregate AUC of 0.86 signifies a strong overall ability of the model to differentiate between the clusters, albeit with varying degrees of precision. These findings underscore the model’s effectiveness in predicting nutritional outcomes based on fishing strategies, with implications for tailoring nutrient-sensitive fisheries management interventions.</p>
<div class="figure"><span style="display:block;" id="fig:model-settings"></span>
<img src="Timor-nutrient-sensitive-fisheries-management_files/figure-html/model-settings-1.png" alt="Receiver Operating Characteristic (ROC) Curves with Data Points for Cluster-Based Classification. The curves delineate the sensitivity versus 1-specificity for the five clusters derived from the XGBoost classification model. Each cluster is represented by a distinct color with data points marked, which illustrates the true positive rate against the false positive rate for each respective cluster. The closeness of each curve to the top-left corner indicates the model’s classification efficacy per cluster, with Cluster 1 and 2 showing the highest performance. The overall model demonstrates substantial predictive accuracy with a composite AUC value of 0.86." width="576" />
<p class="caption">
Figure 5.3: Receiver Operating Characteristic (ROC) Curves with Data Points for Cluster-Based Classification. The curves delineate the sensitivity versus 1-specificity for the five clusters derived from the XGBoost classification model. Each cluster is represented by a distinct color with data points marked, which illustrates the true positive rate against the false positive rate for each respective cluster. The closeness of each curve to the top-left corner indicates the model’s classification efficacy per cluster, with Cluster 1 and 2 showing the highest performance. The overall model demonstrates substantial predictive accuracy with a composite AUC value of 0.86.
</p>
</div>
<table>
<thead>
<tr class="header">
<th align="left">metric</th>
<th align="left">estimator</th>
<th align="right">estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">roc_auc</td>
<td align="left">hand_till</td>
<td align="right">0.86</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="checks-and-limitations-1" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Checks and limitations<a href="profiles.html#checks-and-limitations-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>The distribution of both habitat types and gear types in our data is uneven. Observations in deep water and reef environments are more common compared to other habitats, and similarly, the use of gill nets is more frequent than other types of fishing gear. We need to evaluate whether this imbalance could lead to biases or issues in our model.</p></li>
<li><p>Are we considering all the possible potential good predictors?</p></li>
</ul>
</div>
<div id="next-steps" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Next steps<a href="profiles.html#next-steps" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Explore the model:</p>
<ul>
<li><p>Quantify the importance of each predictor on the model outcome</p></li>
<li><p>Assess the direction of the effect of each predictor, that is analyze which features have the most impact on driving predictions towards each cluster. <a href="notes.html#notes">SHAP Values</a> are a good way to address that.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="distribution.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-profiles.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Timor nutrient-sensitive fisheries management.pdf", "Timor nutrient-sensitive fisheries management.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
